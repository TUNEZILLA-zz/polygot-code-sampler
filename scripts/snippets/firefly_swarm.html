<!doctype html><meta charset="utf-8"><title>Firefly Swarm</title>
<style>html,body{margin:0;height:100%;background:#04060a;overflow:hidden}
canvas{display:block} .badge{position:fixed;right:12px;bottom:10px;color:#9ef;font:12px ui-monospace;opacity:.6}</style>
<canvas id="c"></canvas><div class="badge">Fireflies â€¢ ?reduced=1</div>
<script>
const R=new URLSearchParams(location.search).get('reduced')==='1';
const can=document.getElementById('c'),ctx=can.getContext('2d');let W,H;onresize=()=>{W=can.width=innerWidth;H=can.height=innerHeight};onresize();
const N=R?60:140;const swarm=[...Array(N)].map(()=>({x:Math.random()*W,y:Math.random()*H,vx:(Math.random()-.5)*.25,vy:(Math.random()-.5)*.25,p:Math.random()*Math.PI*2}));
function step(t){ctx.fillStyle="rgba(4,6,10,.2)";ctx.fillRect(0,0,W,H);
for(const f of swarm){f.p+=.01;f.vx+=Math.cos(f.p)*.002;f.vy+=Math.sin(f.p)*.002;f.x=(f.x+f.vx+W)%W;f.y=(f.y+f.vy+H)%H;
const l=0.55+0.45*Math.sin(t*.003+f.p*3);ctx.shadowBlur=R?6:12;ctx.shadowColor=`hsla(60,100%,75%,${l})`;
ctx.fillStyle=`hsla(60,100%,${65+25*l}%,${.35+.35*l})`;ctx.beginPath();ctx.arc(f.x,f.y,R?1.3:1.8,0,7);ctx.fill();}
requestAnimationFrame(step)}requestAnimationFrame(step);
</script>
